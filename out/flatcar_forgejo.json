{"ignition":{"config":{"merge":[{"compression":"gzip","source":"data:;base64,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"}]},"version":"3.4.0"},"passwd":{"users":[{"groups":["docker"],"name":"forgejo","uid":1500},{"groups":["docker"],"name":"postgres"},{"groups":["docker"],"name":"minio"},{"groups":["docker"],"name":"lldap"}]},"storage":{"directories":[{"group":{"name":"forgejo"},"path":"/home/flatcar/.forgejo/data","user":{"name":"forgejo"}},{"group":{"name":"postgres"},"path":"/home/flatcar/.postgres-forgejo/data","user":{"name":"postgres"}},{"group":{"name":"minio"},"path":"/home/flatcar/.minio-forgejo/data/forgejo","user":{"name":"minio"}}],"files":[{"path":"/etc/systemd/network/static.network","contents":{"compression":"","source":"data:,%5BMatch%5D%0AName%3Deth0%0A%0A%5BNetwork%5D%0AAddress%3D172.20.20.1%2F16%0AGateway%3D172.20.0.1%0ANTP%3D172.20.0.1%0A"}},{"path":"/etc/hostname","contents":{"compression":"","source":"data:,git.reyokatsu.net"}},{"group":{"name":"forgejo"},"path":"/home/flatcar/.forgejo/.env","user":{"name":"forgejo"},"contents":{"compression":"gzip","source":"data:;base64,H4sIAAAAAAAC/4zRUU/CMBAH8Hc/DIwhMZL0YWwHVEa79DoNT5epdU4DI20x8dsbMCiwmpjs5fL/XXZ3LREUlTxjg1EUXR2q2bGaSjWDO0nkjP0wljK5TLhgdeN71ny275V3u97G+A5EnP8fKyk1lSpnr95v3bjf77T0Oz1zrQsqpNJsGAUG3f//kMZxHAxzjhrE0XRIPkVCnShNCOoeFPN2Z37Vc+Wrx8oZomxCelUA27bO19a4kJlL1GxwE/fiaP8NxqPrYRyCIlkCe2ltbd7aUL5/HBYKigTxITuJ1sbb5skRgUgmOWQX8zvf2qo2RKilSmbwvcO62TRtAC254JJAZIXk4nyT2/Pjn3ckaQqItIAV8dPhLhhCqkCf6L/ppEwXoH9O9BUAAP//j7PH/LsCAAA="},"mode":384},{"group":{"name":"postgres"},"path":"/home/flatcar/.postgres-forgejo/.env","user":{"name":"postgres"},"contents":{"compression":"","source":"data:,POSTGRES_USER%3D%0APOSTGRES_PASSWORD%3D%0APOSTGRES_DB%3Dforgejo%0ATZ%3D%22Asia%2FTokyo%22%0A"},"mode":384},{"group":{"name":"minio"},"path":"/home/flatcar/.minio-forgejo/.env","user":{"name":"minio"},"contents":{"compression":"","source":"data:,MINIO_ROOT_USER%3D%0AMINIO_ROOT_PASSWORD%3D%0A"},"mode":384},{"group":{"name":"lldap"},"path":"/home/flatcar/.lldap-forgejo/.env","user":{"name":"lldap"},"contents":{"compression":"","source":"data:,TZ%3DAsia%2FTokyo%0ALLDAP_JWT_SECRET%3D%0ALLDAP_KEY_SEED%3D%0ALLDAP_LDAP_BASE_DN%3Ddc%3Dpeach-ktq%2Cdc%3Ddev%0ALLDAP_LDAP_USER_PASS%3D%0A"},"mode":384}]},"systemd":{"units":[{"contents":"[Unit]\nDescription=run forgejo\nRequires=systemd-sysupdate.service\nAfter=systemd-sysupdate.service\n\n[Service]\nType=simple\nRestart=always\nRestartSec=10\nWorkingDirectory=/home/flatcar\nUser=forgejo\nGroup=forgejo\nExecStartPre=-/usr/bin/docker stop forgejo\nExecStartPre=-/usr/bin/docker rm forgejo\nExecStartPre=/usr/bin/docker pull harbor.reyokatsu.net/others/forgejo:10\nExecStart=/usr/bin/docker run --rm --name forgejo\\\n  -v /home/flatcar/.forgejo/data:/data\\\n  -v /etc/timezone:/etc/timeozone:ro\\\n  -v /etc/localtime:/etc/localtime:ro\\\n  -p 3000:3000\\\n  -p 222:22\\\n  --env-file /home/flatcar/.forgejo/.env\\\n  harbor.reyokatsu.net/others/forgejo:10\n\n[Install]\nWantedBy=multi-user.target\n","enabled":false,"name":"forgejo.service"},{"contents":"[Unit]\nDescription=run postgres\nRequires=systemd-sysupdate.service\nAfter=systemd-sysupdate.service\n\n[Service]\nType=simple\nRestart=always\nRestartSec=10\nWorkingDirectory=/home/flatcar\nUser=postgres\nGroup=postgres\nExecStartPre=-/usr/bin/docker stop postgres-forgejo\nExecStartPre=-/usr/bin/docker rm postgres-forgejo\nExecStartPre=/usr/bin/docker pull harbor.reyokatsu.net/database/postgres\nExecStart=/usr/bin/docker run --rm --name postgres-forgejo\\\n  -v /home/flatcar/.postgres-forgejo/data:/var/lib/postgresql/data\\\n  -p 5432:5432\\\n  --env-file /home/flatcar/.postgres-forgejo/.env\\\n  harbor.reyokatsu.net/database/postgres:latest\n[Install]\nWantedBy=multi-user.target\n","enabled":false,"name":"postgres-forgejo.service"},{"contents":"[Unit]\nDescription=run minio\nRequires=systemd-sysupdate.service\nAfter=systemd-sysupdate.service\n\n[Service]\nType=simple\nRestart=always\nRestartSec=10\nWorkingDirectory=/home/flatcar\nUser=minio\nGroup=minio\nExecStartPre=-/usr/bin/docker stop minio-forgejo\nExecStartPre=-/usr/bin/docker rm minio-forgejo\nExecStartPre=/usr/bin/docker pull quay.io/minio/minio\nExecStart=/usr/bin/docker run --name minio-forgejo\\\n  -p 9000:9000 -p 9001:9001\\\n  -v /home/flatcar/.minio-forgejo/data:/data\\\n  --env-file /home/flatcar/.minio-forgejo/.env\\\n  quay.io/minio/minio server /data --console-address \":9001\"\n\n[Install]\nWantedBy=multi-user.target\n","enabled":false,"name":"minio-forgejo.service"},{"contents":"[Unit]\nDescription=run lldap\nRequires=systemd-sysupdate.service\nAfter=systemd-sysupdate.service\n\n[Service]\nType=simple\nRemainAfterExit=true\nWorkingDirectory=/home/flatcar\nUser=lldap\nGroup=lldap\nExecStartPre=-/usr/bin/docker stop lldap-forgejo\nExecStartPre=-/usr/bin/docker rm lldap-forgejo\nExecStartPre=/usr/bin/docker pull harbor.reyokatsu.net/auth/lldap:stable\nExecStart=/usr/bin/docker run --name lldap-forgejo\\\n  -p 3890:3890\\\n  -p 17170:17170\\\n  -v /home/flatcar/.lldap-forgejo/data:/data\\\n  --env-file /home/flatcar/.lldap-forgejo/.env\\\n  harbor.reyokatsu.net/auth/lldap:stable\n[Install]\nWantedBy=multi-user.target\n","enabled":false,"name":"lldap-forgejo.service"}]}}
