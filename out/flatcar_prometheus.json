{"ignition":{"config":{"merge":[{"compression":"gzip","source":"data:;base64,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"}]},"version":"3.4.0"},"passwd":{"users":[{"groups":["docker"],"name":"prometheus"},{"groups":["docker"],"name":"loki"},{"groups":["docker"],"name":"grafana"}]},"storage":{"directories":[{"path":"/home/flatcar/.loki/minio_loki/minio_data/loki"},{"group":{"id":65534},"path":"/home/flatcar/.prometheus/data","user":{"id":65534},"mode":448},{"group":{"name":"prometheus"},"path":"/home/flatcar/.prometheus/config","user":{"name":"prometheus"}},{"group":{"id":472},"path":"/home/flatcar/.grafana/data","user":{"id":472}}],"files":[{"path":"/etc/systemd/network/static.network","contents":{"compression":"","source":"data:,%5BMatch%5D%0AName%3Deth0%0A%0A%5BNetwork%5D%0AAddress%3D172.20.5.15%2F16%0AGateway%3D172.20.0.1%0ANTP%3D172.20.0.1%0A"}},{"group":{"name":"loki"},"path":"/home/flatcar/.loki/loki/loki_config/config.yaml","user":{"name":"loki"},"contents":{"compression":"gzip","source":"data:;base64,H4sIAAAAAAAC/3xWTW/kNhK9N9D/oQAvsBe7pbbXO7Buu8gHBpjEgT1BjgRFliSmKVJTVXSPJsh/D0ip2/Z4El26xfeq+OqLlE4yKAy69Wgb6LRn3G62G0Z6Qmq2G4BBZFLesWBQUyRp4GZf1xnpaTKvkbv67r8Z8bFXHp/QN+BCF8/kxa0a9WdlYjCJCIMoFkI9cgP7OjvebkwcxxjK7i6w6GBQaWupgf31u129q3f7jE1aBjURdu5zA5WMU+XjwW03cAEskXSPTXkB6JxHnllwPK0AmCGFAyvrCI1Eml+4qBbsTKXk8W+YBcpiCCfvjBYXg+p05jVQVJILfbPdFE//FA3A4SnLLqLLs7yBCyOOkeZSlyWunL3O9YUpbFvFg5umtWAA2oh7QuWCxc/fll2ghWy0GVD5uGh/Q1IFX/UT8hyMckGQnrRv4JZXhAdNaNUqmW+yb33kVRDfNKWPmqrav7veXde7293+trmr6/pUsyLbILM64KycbeBff/z0/uf39+rh/v6j+vXx+4c/V2doCEU9s7+i/vK/x8ff7h++O9FvukgGc7OwzB4bEEq4YC4wmkTnte3mU0KaFemwNE+OOHnhJQvNi4ydq4Rji9aiVa+XAc5T9bxffnLzs/uCamxLx5eymgFH/bKqy99T/q6gozg2cF1f11f17dX+9qseyU1wWort72jkdSkKtWzSwNP+vFQq/ELyaZiWyr9YR3LRNnD9nyHLvZi0CFJQLvTIUvru4k3AFwAjCjmjdN8T9kt/rf1y8Zacj42DK6OBzA3klvRDZGlu1jTlYVt6XHskGXXQPZJK5M/t9Wx0V9/dZKOOYhAMtthhMNHmgYSJosQ2dSUeE8dpmdmi5Bjp4EL/anSsFl0RCoYcRqGtVnninydiX48FPFPV20ifMYseBfOPnhuov41mOUjKxBSkgf1tyUWm/n8Gi51OXi7hQzw4ODrvgTFY0CGGeYyJL6FNAim4Twn9fOVs9t25LAkS6x5BB7u2WyJ9Ck4H7WdxhkEi/Ei600HDB93yDj4OyAgsWhwXhibMm0qm5jJwU1UZ5l2/GO4i9dV2c5EdPz7bDegnSAwt5m6CFCxSPh8tDPG4BOQYEqO9LCJlwBk4Y4lzS3aRxnyaZrfltmHoIsEYWbIVFa1u2YeLDblITtwXhA61JEIujm00acQgJfpddvdD8UNYri8aCwAxwHHQ8m8u0V6Cj/EAWjL/FHbvZEjtzsSxWmNfjtLWx7YatQvVdOirc3JPaYrZxwN2SDmHMiC0yXn7gPlazVM0RJsRRiwSoI/I4IJE0PnmiSS7Nb/vO5hjgmNM3oJ3B8x21nEp+EJ1ob+EFPItW6o2IHTR+3h0oQfvAuZj56xxPQZXw6++Ff4KAAD//1+eXeY/CAAA"}},{"group":{"name":"prometheus"},"path":"/home/flatcar/.prometheus/create_config.sh","user":{"name":"prometheus"},"contents":{"compression":"gzip","source":"data:;base64,H4sIAAAAAAAC/3zLPQ7CMAxH8T2nMIIBBuILIO6SVP82lfIl24nK7RmRGLq94f2uFx4qHPfKqJNi0OQURk84h6M3MbrdjyCb0os4tQJec7AlCPsurcAShrJHnQ+HOnVENTp9f+k/JXtD6TkY6E0naGl13bc/+w0AAP///QTamL0AAAA="}},{"group":{"name":"prometheus"},"path":"/home/flatcar/.prometheus/prometheus.yml.template","user":{"name":"prometheus"},"contents":{"compression":"gzip","source":"data:;base64,H4sIAAAAAAAC/5xWb0/jxhN+n08xSn6S7yQwdkL4gdVWSgUVUg8OQe9aqUK+zXoSL6x3rd1xIKruu1e7tkkgcVuTd5mdeZ7588yul1LPmUwGAJYbVmIqFKFZMZmA+51YGMEdElCOjQe0HkAacIVmDfEULHKtMhvCOS5YJQmEbQ+hEKoiDAcAuGKyYiS02uLxHBf1CYKpJNo9uL/lCNk/YY/aCkgUqCvvZV3m2idfF/oC8SGO7Mdw4ONmRIznzssiSDZHaV0UU2twWGDRCLSgDTCJhiw85aiA66KolOCMhFrCk6Dcg+EzoVFMgl1bwsLChwVmaHzRB2Cw0IRgSRu2xAOYOcCCKbZE89F3qAlP6zzcYNyv0EqQNgkE+MyKUmIwGIxeRQPXaiGWVc008JkKtXQAbMvNIx6CJUaCp3VMw3IIxMwSySbwZyA1ZzLXlpKz6GwS3Du6T5plzXy04ghMZVCiEToTnEm5bseLrpUFMM61yVxzXo8g2KOCIBw44HQhJPp0RnAIw4UwllLPGK4LOWzttSi2D1wzWn2+aoT7R0wolwY+M05yDVohoMpKLZSXRx2XDEZwiQZBUGDhxugCKcfKgiCLchEOGnlt9WzkVfmg56BYgU5wLMswA2aB1UKCbw96/uMPD3qeOpefvm0Lq9FVjZvBwugCKBe2qSD0k2pDEwjKl5yCgZ/YCD6v0BiR4T6Ju/E0LWkGu0Xhkq53aLNjHnPnGpjabXuzXN7c5FAgGcFtWjLKW3K/QMFRcxQ0npbnWOBrn5yoDPwibtd6jfSkzWPNvEerb9Qa/38cjqMwCo+TsziKgoONZVpb7t8yfL257o0+jjrAzq/v3pXqdPI21anbNYA3+MaNymJaGv28fgfTaXQ6fs3kLTt1sJIOOeM59uSYdrZ5s0e9IeMuzKWgnmDjKIy7Rof2kXSZfr3qixl2qWF2+2t/uLg7xcdTG8X9EU9bwIONZbxjiXed4j1ek12oPei7geNJR1FXQiE3bEHp5exdunYNe8vnbP9O+F624122zhthw2bRrNC8g+5kD92egidda3LJzFyb3ms37oD7RTLizPTX4fSlc52Y5z/3xDzpXBals763V9wJdnt58ek/gg031daaGO7ehedfmqfUPYMJuKevvhZJ2ga7hRbKIq8MpvZRlOkKjVisEyBT1cVtv7kJDI/4UhzOhTrKqqJMN98JIV+KoQ8omWGF3aBzWWXo86qTH973fw3j5Pi4fq4A5swKnrKK8jaosu5D1tX5v79u/pikUZx+ubu4vZ5dXXxvXEpm7ZM22ZbLzezu7vfPt+ff/w4AAP//PGB8nJkMAAA="}}]},"systemd":{"units":[{"contents":"[Unit]\nDescription=run MinIO of Loki\nRequires=docker.service\nAfter=docker.service\n\n[Service]\nType=simple\nUser=loki\nGroup=loki\nExecStartPre=-/usr/bin/docker stop minio_loki\nExecStartPre=-/usr/bin/docker rm minio_loki\nExecStartPre=/usr/bin/docker pull quay.io/minio/minio\nExecStart=/usr/bin/docker run --name minio_loki\\\n --env-file /home/flatcar/.loki/minio_loki/.env\\\n -p 9000:9000 -p 9001:9001\\\n -v /home/flatcar/.loki/minio_loki/minio_data:/data\\\n quay.io/minio/minio server /data --console-address \":9001\"\n\n[Install]\nWantedBy=multi-user.target\n","enabled":true,"name":"minio_loki.service"},{"contents":"[Unit]\nDescription=run Loki\nRequires=docker.service\nAfter=docker.service\n\n[Service]\nType=simple\nUser=loki\nGroup=loki\nExecStartPre=-/usr/bin/docker stop loki\nExecStartPre=-/usr/bin/docker rm loki\nExecStartPre=/usr/bin/docker pull grafana/loki\nExecStart=/usr/bin/docker run --name loki\\\n --env-file /home/flatcar/.loki/minio_loki/.env\\\n -p 3100:3100\\\n -v /home/flatcar/.loki/loki/loki_config:/etc/loki\\\n grafana/loki -config.expand-env=true -config.file=/etc/loki/config.yaml\n\n[Install]\nWantedBy=multi-user.target\n","enabled":true,"name":"loki.service"},{"contents":"[Unit]\nDescription=run Prometheus\nRequires=docker.service\nAfter=docker.service\n\n[Service]\nType=simple\nWorkingDirectory=/home/flatcar\nRestart=on-failure\nRestartSec=30s\nUser=prometheus\nGroup=prometheus\n\nExecStartPre=-/usr/bin/docker stop prometheus\nExecStartPre=-/usr/bin/docker rm prometheus\nExecStartPre=/usr/bin/docker pull harbor.reyokatsu.net/management/prometheus:latest\nExecStartPre=-/usr/bin/sh /home/flatcar/.prometheus/create_config.sh\nExecStart=/usr/bin/docker run --name prometheus\\\n -p 9090:9090\\\n -v /home/flatcar/.prometheus/config:/config\\\n -v /home/flatcar/.prometheus/data:/prometheus\\\n harbor.reyokatsu.net/management/prometheus:latest\\\n --config.file=/config/prometheus.yml\n[Install]\nWantedBy=multi-user.target\n","enabled":true,"name":"prometheus.service"},{"contents":"[Unit]\nDescription=run Grafana dashboard\nRequires=docker.service\nAfter=docker.service\n\n[Service]\nType=simple\nWorkingDirectory=/home/flatcar\nRestart=on-failure\nRestartSec=30s\nUser=grafana\nGroup=grafana\n\nExecStartPre=-/usr/bin/docker stop grafana\nExecStartPre=-/usr/bin/docker rm grafana\nExecStartPre=/usr/bin/docker pull harbor.reyokatsu.net/management/grafana-enterprise:latest\nExecStart=/usr/bin/docker run --name grafana\\\n  -p 3000:3000\\\n  -v /home/flatcar/.grafana/data:/var/lib/grafana\\\n  harbor.reyokatsu.net/management/grafana-enterprise:latest\n[Install]\nWantedBy=multi-user.target\n","enabled":true,"name":"grafana.service"}]}}
