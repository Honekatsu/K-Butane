{"ignition":{"config":{"merge":[{"compression":"gzip","source":"data:;base64,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"}]},"version":"3.4.0"},"passwd":{"users":[{"groups":["docker"],"name":"coredns"},{"groups":["docker"],"name":"traefik"},{"groups":["docker"],"name":"haproxy"}]},"storage":{"directories":[{"group":{"name":"traefik"},"path":"/home/flatcar/.traefik/logs","user":{"name":"traefik"}},{"group":{"name":"traefik"},"path":"/home/flatcar/.traefik/acme","user":{"name":"traefik"}}],"files":[{"overwrite":true,"path":"/etc/systemd/resolved.conf.d/10-DNS-override.conf","contents":{"compression":"","source":"data:,%5BResolve%5D%0ADNS%3D172.20.0.1%0A"}},{"path":"/etc/systemd/resolved.conf.d/stop_dns_stub_listener.conf","contents":{"compression":"","source":"data:,%5BResolve%5D%0ADNSStubListener%3Dno%0A"}},{"group":{"name":"traefik"},"path":"/home/flatcar/.traefik/config/traefik.yml","user":{"name":"traefik"},"contents":{"compression":"gzip","source":"data:;base64,H4sIAAAAAAAC/4ySwW7bPAyA7wHyDoL/c+y0aYFApx9pg116KNbtPDAy7WiRLYGkvXhPP0i2k3RFgUVAIPGTP5KSnK/1cqFUZR2+ghy1ygrnay6EACt7yp2vs7ihgfOb/Y1aPa6n5Q7MqQus1SYGHPbotHre775/WS6WCzAGmV8+04/4Yq88NSBaZT/Ztyly6KoKybb1mPVuvY7WBoWs4eQM5BuUI3bjUikoy30rNLx62wq/wAEdayXU4cjxArWaRNF5DY+iX3i4CgmZtdLb9URWjOYDfXjY3OBVINuD4EfJtO+2ifdJtvfp6IJNzLaMpiPUqgLHqYkS+HjwQOXc13IRyPe2RBp9pTcnpEmN5+AZy93wjBV0Tm5E8UKmXXHaQoNaFShmvvgCz4LUgvvBSL01mA+Ni/kMktjKGhDkr8je9XNu43xXVg7o0rpp5qlS2IB1Wgmy/I9naILD3Phmxiccvg0Btcr2T5vtQzbHWTxBHYuLtvSXx0cy87LlpyM4h219zZUeRzoVfVPVldK7uuffSmV3eRr6cZP9RbZ5GrfkPwNvSH1MchQJrItU3qpf3+cQbO5QGFtDQ5DcU12UltCIp2EWfPI9C9S2rf/F8ycAAP//+StQs78DAAA="}},{"group":{"name":"traefik"},"path":"/home/flatcar/.traefik/config/external_service.yml","user":{"name":"traefik"},"contents":{"compression":"gzip","source":"data:;base64,H4sIAAAAAAAC/7STwU7zMBCE77/0v8OqJzjEtYMqhE+IE0fEE3TrbKlVY0frTVHfHlFiWlVUQSHcIns883ni3Yi09v8/AE6dEOfDN0CDebNKyI02/QoAReH9U/JR8tcaQAVvtKoyuaplv0OhssVdIAuPKcvVUhhp7bfaKKZ92qLkTkWS5XURZ+Kdd2QBW3/voxBHDGVTwmmgI5ZnyinsiC24kLpmHZDpHLyeErz+U/BPzQvjGiNOgd1bDUL3ujFFv/roUxXS1k8BfHQbZD5KR9bspWoJ3ean3N8W7GW43BI0hrN3KQfO30ZI2DxgwOiITzw/Th2HuNyj42Bhdpj0+dzc1qrWaqHMwt5orWcXf+c0GXdam9ml5n8dUWtlyjXeAwAA//9v/FZBywQAAA=="}},{"group":{"name":"traefik"},"path":"/home/flatcar/.traefik/.env","user":{"name":"traefik"},"contents":{"compression":"","source":"data:,CF_API_EMAIL%3D%0ACF_DNS_API_TOKEN%3D%0A"},"mode":384},{"group":{"name":"haproxy"},"path":"/home/flatcar/.haproxy/config/haproxy.cfg","user":{"name":"haproxy"},"contents":{"compression":"gzip","source":"data:;base64,H4sIAAAAAAAC/2yQ0WrEIBBF3wP5h3kupGyEUujPFKMTY2sc64yl+/clq6ylmxAQz73MHHSBFh3GAdpXGDNsOmX6uXbqMpXU8ThYXHUJwr0SyNXqv4E7WTxOMalDSuIp3mAg17n4HakIGIoRjcALn2TBYxSAeX/MGPM35pqNw5opCkYLzNtlru3FRwtPb0qper/p3d3EpCnjV0EW8JETGpksBn29mzTzv+LtLd4XbT6PbStlhx80MW+HxSl+XN3U2zCYX9Wzuhz/XGV/AwAA//+xcuiGqQEAAA=="}}]},"systemd":{"units":[{"contents":"[Unit]\nDescription=run CoreDNS\nRequires=docker.service\nAfter=docker.service\n\n[Service]\nType=simple\nUser=coredns\nGroup=coredns\nExecStartPre=-/usr/bin/docker stop coredns\nExecStartPre=-/usr/bin/docker rm coredns\nExecStartPre=/usr/bin/docker pull coredns/coredns:latest\nExecStart=/usr/bin/docker run --rm --name coredns\\\n  -v /home/flatcar/.coredns/config:/etc/coredns\\\n  -p 53:53 -p 53:53/udp -p 9153:9153\\\n  coredns/coredns -conf /etc/coredns/Corefile\n\n[Install]\nWantedBy=multi-user.target\n","enabled":true,"name":"coredns.service"},{"contents":"[Unit]\nDescription=run Traefik\nRequires=docker.service\nAfter=docker.service\n\n[Service]\nType=simple\nUser=traefik\nGroup=traefik\nExecStartPre=-/usr/bin/docker stop traefik\nExecStartPre=-/usr/bin/docker rm traefik\nExecStartPre=/usr/bin/docker pull traefik:latest\nExecStart=/usr/bin/docker run --rm --name traefik\\\n  --env-file /home/flatcar/.traefik/.env\\\n  -v /home/flatcar/.traefik/config:/etc/traefik\\\n  -v /home/flatcar/.traefik/logs:/logs\\\n  -v /home/flatcar/.traefik/acme:/acme\\\n  -v /var/run/docker.sock:/var/run/docker.sock\\\n  -p 80:80 -p 443:443/tcp -p 8082:8082/tcp -p 8443:8443/tcp\\\n  -l traefik.enable=true\\\n  traefik:latest\n\n[Install]\nWantedBy=multi-user.target\n","enabled":false,"name":"traefik.service"},{"contents":"[Unit]\nDescription=run HAProxy\nRequires=docker.service\nAfter=docker.service\n\n[Service]\nType=simple\nUser=haproxy\nGroup=haproxy\nExecStartPre=-/usr/bin/docker stop haproxy\nExecStartPre=-/usr/bin/docker rm haproxy\nExecStartPre=/usr/bin/docker pull harbor.reyokatsu.net/network/haproxy:3.2-dev7-alpine\nExecStart=/usr/bin/docker run --rm --name haproxy\\\n  -v /home/flatcar/.haproxy/config:/usr/local/etc/haproxy:ro\\\n  -p 222:222\\\n  harbor.reyokatsu.net/network/haproxy:3.2-dev7-alpine\n\n[Install]\nWantedBy=multi-user.target\n","enabled":true,"name":"haproxy.service"}]}}
