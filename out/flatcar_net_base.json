{"ignition":{"config":{"merge":[{"compression":"gzip","source":"data:;base64,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"}]},"version":"3.4.0"},"passwd":{"users":[{"groups":["docker"],"name":"coredns"},{"groups":["docker"],"name":"traefik"},{"groups":["docker"],"name":"haproxy"}]},"storage":{"directories":[{"group":{"name":"traefik"},"path":"/home/flatcar/.traefik/logs","user":{"name":"traefik"}},{"group":{"name":"traefik"},"path":"/home/flatcar/.traefik/acme","user":{"name":"traefik"}}],"files":[{"overwrite":true,"path":"/etc/systemd/resolved.conf.d/10-DNS-override.conf","contents":{"compression":"","source":"data:,%5BResolve%5D%0ADNS%3D172.20.0.1%0A"}},{"path":"/etc/systemd/resolved.conf.d/stop_dns_stub_listener.conf","contents":{"compression":"","source":"data:,%5BResolve%5D%0ADNSStubListener%3Dno%0A"}},{"group":{"name":"traefik"},"path":"/home/flatcar/.traefik/config/traefik.yml","user":{"name":"traefik"},"contents":{"compression":"gzip","source":"data:;base64,H4sIAAAAAAAC/4ySwW7bPAyA7wHyDoL/c+y0aYFApx9pg116KNbtPDAy7WiRLYGkvXhPP0i2k3RFgUVAIPGTP5KSnK/1cqFUZR2+ghy1ygrnay6EACt7yp2vs7ihgfOb/Y1aPa6n5Q7MqQus1SYGHPbotHre775/WS6WCzAGmV8+04/4Yq88NSBaZT/Ztyly6KoKybb1mPVuvY7WBoWs4eQM5BuUI3bjUikoy30rNLx62wq/wAEdayXU4cjxArWaRNF5DY+iX3i4CgmZtdLb9URWjOYDfXjY3OBVINuD4EfJtO+2ifdJtvfp6IJNzLaMpiPUqgLHqYkS+HjwQOXc13IRyPe2RBp9pTcnpEmN5+AZy93wjBV0Tm5E8UKmXXHaQoNaFShmvvgCz4LUgvvBSL01mA+Ni/kMktjKGhDkr8je9XNu43xXVg7o0rpp5qlS2IB1Wgmy/I9naILD3Phmxiccvg0Btcr2T5vtQzbHWTxBHYuLtvSXx0cy87LlpyM4h219zZUeRzoVfVPVldK7uuffSmV3eRr6cZP9RbZ5GrfkPwNvSH1MchQJrItU3qpf3+cQbO5QGFtDQ5DcU12UltCIp2EWfPI9C9S2rf/F8ycAAP//+StQs78DAAA="}},{"group":{"name":"traefik"},"path":"/home/flatcar/.traefik/config/external_service.yml","user":{"name":"traefik"},"contents":{"compression":"gzip","source":"data:;base64,H4sIAAAAAAAC/7SUwU7DMBBE70j8w6onOCR1AhXgE+LEEfEF3Sbb1qqxo/Wm0L9HNDGpSlFQGm6RPZ553oy8Fqn05QUA+1qIw/4boMSwXnjkUmXtCgA54d2LN07C9xpAAu+0SAIVScVmi0Jxi2tLGp59kKu5MNLSbFSWMu38BiXUqSOZX0dxIN6agjRgZR6NE2KHNm6KPQwsiOWVgrdbYg2F9XW5tMh0DJ6PCZ7/K3ijWTEu0eEY2K1VL3SrGzLoN+OMT6zfmDGAO7de5k46bMyOZOE//gp9CrZx6AVtZAO7YCSpCIv1OZwrI/0NiEFDOFuXeOC4wNZj+YQWXUF84Pl1qntp4j1qthom++doOs3u8jRX6SzNZvpGKTX5tXPjZDwolU1O1mMM/1t9393h5589OyJXaRbH9BkAAP//IssVitAFAAA="}},{"group":{"name":"traefik"},"path":"/home/flatcar/.traefik/.env","user":{"name":"traefik"},"contents":{"compression":"","source":"data:,CF_API_EMAIL%3D%0ACF_DNS_API_TOKEN%3D%0A"},"mode":384},{"group":{"name":"haproxy"},"path":"/home/flatcar/.haproxy/config/haproxy.cfg","user":{"name":"haproxy"},"contents":{"compression":"gzip","source":"data:;base64,H4sIAAAAAAAC/2yQ0WrEIBBF3wP5h3kupGyEUujPFKMTY2sc64yl+/clq6ylmxAQz73MHHSBFh3GAdpXGDNsOmX6uXbqMpXU8ThYXHUJwr0SyNXqv4E7WTxOMalDSuIp3mAg17n4HakIGIoRjcALn2TBYxSAeX/MGPM35pqNw5opCkYLzNtlru3FRwtPb0qper/p3d3EpCnjV0EW8JETGpksBn29mzTzv+LtLd4XbT6PbStlhx80MW+HxSl+XN3U2zCYX9Wzuhz/XGV/AwAA//+xcuiGqQEAAA=="}}]},"systemd":{"units":[{"contents":"[Unit]\nDescription=run CoreDNS\nRequires=docker.service\nAfter=docker.service\n\n[Service]\nType=simple\nRestart=always\nRestartSec=600\nUser=coredns\nGroup=coredns\nExecStartPre=-/usr/bin/docker stop coredns\nExecStartPre=-/usr/bin/docker rm coredns\nExecStartPre=/usr/bin/docker pull coredns/coredns:latest\nExecStart=/usr/bin/docker run --rm --name coredns\\\n  -v /home/flatcar/.coredns/config:/etc/coredns\\\n  -p 53:53 -p 53:53/udp -p 9153:9153\\\n  coredns/coredns -conf /etc/coredns/Corefile\n\n[Install]\nWantedBy=multi-user.target\n","enabled":true,"name":"coredns.service"},{"contents":"[Unit]\nDescription=run Traefik\nRequires=docker.service\nAfter=docker.service\n\n[Service]\nType=simple\nRestart=always\nRestartSec=600\nUser=traefik\nGroup=traefik\nExecStartPre=-/usr/bin/docker stop traefik\nExecStartPre=-/usr/bin/docker rm traefik\nExecStartPre=/usr/bin/docker pull traefik:latest\nExecStart=/usr/bin/docker run --rm --name traefik\\\n  --env-file /home/flatcar/.traefik/.env\\\n  -v /home/flatcar/.traefik/config:/etc/traefik\\\n  -v /home/flatcar/.traefik/logs:/logs\\\n  -v /home/flatcar/.traefik/acme:/acme\\\n  -v /var/run/docker.sock:/var/run/docker.sock\\\n  -p 80:80 -p 443:443/tcp -p 8082:8082/tcp -p 8443:8443/tcp\\\n  -l traefik.enable=true\\\n  traefik:latest\n\n[Install]\nWantedBy=multi-user.target\n","enabled":false,"name":"traefik.service"},{"contents":"[Unit]\nDescription=run HAProxy\nRequires=docker.service\nAfter=docker.service\n\n[Service]\nType=simple\nRestart=always\nRestartSec=10\nUser=haproxy\nGroup=haproxy\nExecStartPre=-/usr/bin/docker stop haproxy\nExecStartPre=-/usr/bin/docker rm haproxy\nExecStartPre=/usr/bin/docker pull harbor.reyokatsu.net/network/haproxy:3.2-dev7-alpine\nExecStart=/usr/bin/docker run --rm --name haproxy\\\n  -v /home/flatcar/.haproxy/config:/usr/local/etc/haproxy:ro\\\n  -p 222:222\\\n  harbor.reyokatsu.net/network/haproxy:3.2-dev7-alpine\n\n[Install]\nWantedBy=multi-user.target\n","enabled":true,"name":"haproxy.service"}]}}
