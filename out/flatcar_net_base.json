{"ignition":{"config":{"merge":[{"compression":"gzip","source":"data:;base64,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"}]},"version":"3.4.0"},"passwd":{"users":[{"groups":["docker"],"name":"coredns"},{"groups":["docker"],"name":"traefik"},{"groups":["docker"],"name":"haproxy"}]},"storage":{"directories":[{"group":{"name":"traefik"},"path":"/home/flatcar/.traefik/logs","user":{"name":"traefik"}},{"group":{"name":"traefik"},"path":"/home/flatcar/.traefik/acme","user":{"name":"traefik"}}],"files":[{"overwrite":true,"path":"/etc/systemd/resolved.conf.d/10-DNS-override.conf","contents":{"compression":"","source":"data:,%5BResolve%5D%0ADNS%3D172.20.0.1%0A"}},{"path":"/etc/systemd/resolved.conf.d/stop_dns_stub_listener.conf","contents":{"compression":"","source":"data:,%5BResolve%5D%0ADNSStubListener%3Dno%0A"}},{"group":{"name":"traefik"},"path":"/home/flatcar/.traefik/config/traefik.yml","user":{"name":"traefik"},"contents":{"compression":"gzip","source":"data:;base64,H4sIAAAAAAAC/4ySwW7bPAyA7wHyDoL/c+y0aYFApx9pg116KNbtPDAy7WiRLYGkvXhPP0i2k3RFgUVAIPGTP5KSnK/1cqFUZR2+ghy1ygrnay6EACt7yp2vs7ihgfOb/Y1aPa6n5Q7MqQus1SYGHPbotHre775/WS6WCzAGmV8+04/4Yq88NSBaZT/Ztyly6KoKybb1mPVuvY7WBoWs4eQM5BuUI3bjUikoy30rNLx62wq/wAEdayXU4cjxArWaRNF5DY+iX3i4CgmZtdLb9URWjOYDfXjY3OBVINuD4EfJtO+2ifdJtvfp6IJNzLaMpiPUqgLHqYkS+HjwQOXc13IRyPe2RBp9pTcnpEmN5+AZy93wjBV0Tm5E8UKmXXHaQoNaFShmvvgCz4LUgvvBSL01mA+Ni/kMktjKGhDkr8je9XNu43xXVg7o0rpp5qlS2IB1Wgmy/I9naILD3Phmxiccvg0Btcr2T5vtQzbHWTxBHYuLtvSXx0cy87LlpyM4h219zZUeRzoVfVPVldK7uuffSmV3eRr6cZP9RbZ5GrfkPwNvSH1MchQJrItU3qpf3+cQbO5QGFtDQ5DcU12UltCIp2EWfPI9C9S2rf/F8ycAAP//+StQs78DAAA="}},{"group":{"name":"traefik"},"path":"/home/flatcar/.traefik/config/external_service.yml","user":{"name":"traefik"},"contents":{"compression":"gzip","source":"data:;base64,H4sIAAAAAAAC/7STwU7zMBCE77/0v8OqJzgkdYIqhE+IE0fEE3TrbIkVY0frTVDfHlFiUlVUQSHcIns883nirUVa/f8fAIdOiOPxG6DCWO8CcqWKYQWAvPDhKVgv8WsNIIM32mWRTNay7VEobXHnSMNjiHK1FUba20YVOdMhNCixyz3J9jqJI3FvDWnA1t5bL8QeXdoUdxpoiOWZYnA9sQbjQlftHTKdg5dLgpd/Cv6peWHco8clsAerSehBN6foV+ttyFxo7BLAo9sk8yidWbOVrCU09U+5vy3YynS5KWgO5+CSDpy/DRewekCH3hCfeH6cGoc43aNjp2F1nPT1urgt81Llm7zQN0qp1cW/uUTERt8pVawuFf/riFKN13gPAAD//yiHcDnKBAAA"}},{"group":{"name":"traefik"},"path":"/home/flatcar/.traefik/.env","user":{"name":"traefik"},"contents":{"compression":"","source":"data:,CF_API_EMAIL%3D%0ACF_DNS_API_TOKEN%3D%0A"},"mode":384},{"group":{"name":"haproxy"},"path":"/home/flatcar/.haproxy/config/haproxy.cfg","user":{"name":"haproxy"},"contents":{"compression":"gzip","source":"data:;base64,H4sIAAAAAAAC/2yQ0WrEIBBF3wP5h3kupGyEUujPFKMTY2sc64yl+/clq6ylmxAQz73MHHSBFh3GAdpXGDNsOmX6uXbqMpXU8ThYXHUJwr0SyNXqv4E7WTxOMalDSuIp3mAg17n4HakIGIoRjcALn2TBYxSAeX/MGPM35pqNw5opCkYLzNtlru3FRwtPb0qper/p3d3EpCnjV0EW8JETGpksBn29mzTzv+LtLd4XbT6PbStlhx80MW+HxSl+XN3U2zCYX9Wzuhz/XGV/AwAA//+xcuiGqQEAAA=="}}]},"systemd":{"units":[{"contents":"[Unit]\nDescription=run CoreDNS\nRequires=docker.service\nAfter=docker.service\n\n[Service]\nType=simple\nUser=coredns\nGroup=coredns\nExecStartPre=-/usr/bin/docker stop coredns\nExecStartPre=-/usr/bin/docker rm coredns\nExecStartPre=/usr/bin/docker pull coredns/coredns:latest\nExecStart=/usr/bin/docker run --rm --name coredns\\\n  -v /home/flatcar/.coredns/config:/etc/coredns\\\n  -p 53:53 -p 53:53/udp -p 9153:9153\\\n  coredns/coredns -conf /etc/coredns/Corefile\n\n[Install]\nWantedBy=multi-user.target\n","enabled":true,"name":"coredns.service"},{"contents":"[Unit]\nDescription=run Traefik\nRequires=docker.service\nAfter=docker.service\n\n[Service]\nType=simple\nUser=traefik\nGroup=traefik\nExecStartPre=-/usr/bin/docker stop traefik\nExecStartPre=-/usr/bin/docker rm traefik\nExecStartPre=/usr/bin/docker pull traefik:latest\nExecStart=/usr/bin/docker run --rm --name traefik\\\n  --env-file /home/flatcar/.traefik/.env\\\n  -v /home/flatcar/.traefik/config:/etc/traefik\\\n  -v /home/flatcar/.traefik/logs:/logs\\\n  -v /home/flatcar/.traefik/acme:/acme\\\n  -v /var/run/docker.sock:/var/run/docker.sock\\\n  -p 80:80 -p 443:443/tcp -p 8082:8082/tcp -p 8443:8443/tcp\\\n  -l traefik.enable=true\\\n  traefik:latest\n\n[Install]\nWantedBy=multi-user.target\n","enabled":false,"name":"traefik.service"},{"contents":"[Unit]\nDescription=run HAProxy\nRequires=docker.service\nAfter=docker.service\n\n[Service]\nType=simple\nUser=haproxy\nGroup=haproxy\nExecStartPre=-/usr/bin/docker stop haproxy\nExecStartPre=-/usr/bin/docker rm haproxy\nExecStartPre=/usr/bin/docker pull harbor.reyokatsu.net/network/haproxy:3.2-dev7-alpine\nExecStart=/usr/bin/docker run --rm --name haproxy\\\n  -v /home/flatcar/.haproxy/config:/usr/local/etc/haproxy:ro\\\n  -p 222:222\\\n  harbor.reyokatsu.net/network/haproxy:3.2-dev7-alpine\n\n[Install]\nWantedBy=multi-user.target\n","enabled":true,"name":"haproxy.service"}]}}
